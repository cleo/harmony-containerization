# Production-ready test configuration for harmony-init

global:
  namespace: harmony-prod

harmonyInit:
  image:
    name: harmony
    repository: cleodev/harmony
    tag: "1.0.0"
    pullPolicy: IfNotPresent

  job:
    backoffLimit: 5
    restartPolicy: Never

  env:
    systemName: "ProductionSystem"
    secretsMountPoint: "/var/secrets"

  volumes:
    secrets:
      sources:
        - secretName: cleo-license
        - secretName: cleo-license-verification-code
        - secretName: cleo-default-admin-password
        - secretName: cleo-system-settings
        - secretName: cleo-config-repo
        - secretName: cleo-runtime-repo
        - secretName: cleo-log-system
          optional: false

persistence:
  enabled: true
  claimName: "harmony-pvc"
  mountPath: "/shared-config"
